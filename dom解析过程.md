# DOM的解析渲染流程

## 核心五步：

- 1.解析HTML

- 2.构建DOM树

- 3.DOM树与CSS样式进行附着构造呈现树

- 4.布局

- 5.绘制

## 解析渲染过程

- 1.DOM Tree：浏览器将HTML解析成树形的数据结构。

- 2.CSS Rule Tree：浏览器将CSS解析成树形的数据结构。

- 3.Render Tree: DOM和CSSOM合并后生成Render Tree（渲染树）。

- 4.layout: 有了Render Tree，浏览器已经能知道网页中有哪些节点、各个节点的CSS定义以及他们的从属关系，从而去计算出每个节点在屏幕中的位置。
  
- 5.painting: 按照算出来的规则，通过显卡，把内容画到屏幕上。
  
- 6.reflow（回流）：当浏览器发现某个部分发生了点变化影响了布局，需要倒回去重新渲染，内行称这个回退的过程叫 reflow。reflow 会从 这个 root frame 开始递归往下，依次计算所有的结点几何尺寸和位置。reflow 几乎是无法避免的。现在界面上流行的一些效果，比如树状目录的折叠、展开（实质上是元素的显 示与隐藏）等，都将引起浏览器的 reflow。鼠标滑过、点击……只要这些行为引起了页面上某些元素的占位面积、定位方式、边距等属性的变化，都会引起它内部、周围甚至整个页面的重新渲 染。通常我们都无法预估浏览器到底会 reflow 哪一部分的代码，它们都彼此相互影响着。

- 7.repaint（重绘）：改变某个元素的背景色、文字颜色、边框颜色等等不影响它周围或内部布局的属性时，屏幕的一部分要重画，但是元素的几何尺寸没有变。
